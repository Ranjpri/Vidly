@model IEnumerable<Vidly_Auth.Models.Movie>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <h2 style="margin-top:50px">Movies</h2>
   
       
        <table id ="movies" style="margin-top:20px;" class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>Movies</th>
                    <th>Genre</th>
                   
                </tr>
            </thead>
        </table>
   
</div>
@section scripts
{
    <script>  

        $(document).ready(function () {
            console.log("In the Data Table");
            var table = $("#movies").DataTable(
                {
                    ajax:
                    {
                        url: "/api/Movies",
                        dataSrc: ""

                    },
                    columns:
                        [
                            {
                                data: "name",                                
                            },
                            {
                                data: "genre.genreName"
                            }
                            
                        ]

                });
           
        });
                   
    </script>
}

